<div class="container mt-4">
  <h2 class="text-center text-primary mb-4">Offer List</h2>

  <!-- Barre de recherche centrÃ©e -->
  <div class="d-flex justify-content-center mb-4">
    <div class="search-container">
      <i class="fas fa-search search-icon"></i>
      <input type="text" class="search-input" placeholder="Search for offers..." (input)="onSearchInput($event)">
    </div>
  </div>

  <!-- No offers available -->
  <div *ngIf="offers.length === 0" class="alert alert-warning text-center mt-4">
    <i class="fas fa-exclamation-circle"></i> No offers available.
  </div>

  <!-- List of offers -->
  <div class="row mt-4" *ngIf="offers.length > 0">
    <div class="col-md-4" *ngFor="let offer of offers">
      <div class="card offer-card shadow-sm border-0">
        <img [src]="offer.image || 'assets/default-offer.jpg'" class="card-img-top rounded-top" alt="Offer Image">
        <div class="card-body">
          <h5 class="card-title text-success"><i class="fas fa-tag"></i> {{ offer.title }}</h5>
          <p class="card-text text-muted"><strong>Description:</strong> {{ offer.description }}</p>
          <p class="text-muted"><i class="fas fa-calendar"></i> Published: {{ offer.datePub | date }}</p>

          <!-- Affichage du nombre de commentaires et d'applications -->
          <div class="d-flex justify-content-between mt-2">
            <span class="text-info"><i class="fas fa-comments"></i> ðŸ’¬ {{ commentsCount[offer.id] || 0 }}</span>
            <span class="text-warning"><i class="fas fa-file-alt"></i> ðŸ“„ {{ applicationsCount[offer.id] || 0 }}</span>
          </div>

          <div class="d-flex justify-content-between mt-3">
            <button class="btn btn-outline-primary btn-sm" [routerLink]="['/front-office/offer-details', offer.id]">
              <i class="fas fa-eye"></i> View
            </button>
            <button class="btn btn-outline-warning btn-sm" [routerLink]="['/front-office/edit-offer', offer.id]">
              <i class="fas fa-edit"></i> Edit
            </button>
            <button class="btn btn-outline-danger btn-sm" (click)="deleteOffer(offer.id)">
              <i class="fas fa-trash-alt"></i> Delete
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Add new offer button -->
  <div class="text-center mt-4">
    <button class="btn btn-primary btn-lg shadow" [routerLink]="['/front-office/add-offer']">
      <i class="fas fa-plus-circle"></i> Add New Offer
    </button>
  </div>
</div>
